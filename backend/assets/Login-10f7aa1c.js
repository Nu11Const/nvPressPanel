import{d as D,B as o,a2 as M,m as U,g as z,y as L,M as J,ai as H,c as g,W as j,J as V,aj as W,ae as Y,ak as q,Y as Q,K as O,af as X,O as Z,E as ee,v as ae,x as le,al as oe,am as te,z as ne,A as ue,$ as se,L as de,o as ce,k as re,w as i,j as C,C as ie,D as me}from"./index-68af38a3.js";import{s as I,I as ve,F as fe,a as _e,b as be}from"./sha3-9e1b39c1.js";import{B as he,a as pe}from"./index-af604ea7.js";import{N as G}from"./index-9c93cf46.js";var R=D({name:"IconCheck",render(){return o("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024",width:"200",height:"200",fill:"currentColor"},[o("path",{d:"M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z","p-id":"840"},null)])}});const T=Symbol("ArcoCheckboxGroup");var A=D({name:"Checkbox",components:{IconCheck:R,IconHover:M},props:{modelValue:{type:[Boolean,Array],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number]},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,n)=>!0},setup(e,{emit:n,slots:s}){const{disabled:m,modelValue:f}=U(e),d=z("checkbox"),_=L(),t=e.uninjectGroupContext?void 0:J(T,void 0),h=(t==null?void 0:t.name)==="ArcoCheckboxGroup",{mergedDisabled:x,eventHandlers:p}=H({disabled:m}),k=L(e.defaultChecked),b=g(()=>{var l;return h?t==null?void 0:t.computedValue:(l=e.modelValue)!=null?l:k.value}),c=g(()=>{var l;return V(b.value)?b.value.includes((l=e.value)!=null?l:!0):b.value}),a=g(()=>(t==null?void 0:t.disabled)||(x==null?void 0:x.value)||!c.value&&(t==null?void 0:t.isMaxed)),v=l=>{l.stopPropagation()},w=l=>{var r,u,y,P;const{checked:F}=l.target;let B=F;if(V(b.value)){const S=new Set(b.value);F?S.add((r=e.value)!=null?r:!0):S.delete((u=e.value)!=null?u:!0),B=Array.from(S)}k.value=F,h&&V(B)?t==null||t.handleChange(B,l):(n("update:modelValue",B),n("change",B,l),(P=(y=p.value)==null?void 0:y.onChange)==null||P.call(y,l)),W(()=>{_.value&&_.value.checked!==c.value&&(_.value.checked=c.value)})},$=g(()=>[d,{[`${d}-checked`]:c.value,[`${d}-indeterminate`]:e.indeterminate,[`${d}-disabled`]:a.value}]),K=l=>{var r,u;(u=(r=p.value)==null?void 0:r.onFocus)==null||u.call(r,l)},E=l=>{var r,u;(u=(r=p.value)==null?void 0:r.onBlur)==null||u.call(r,l)};return j(f,l=>{(Y(l)||q(l))&&(k.value=!1)}),j(b,l=>{var r;let u;V(l)?u=l.includes((r=e.value)!=null?r:!0):u=l,k.value!==u&&(k.value=u),_.value&&_.value.checked!==u&&(_.value.checked=u)}),()=>{var l,r,u,y;return o("label",{"aria-disabled":a.value,class:$.value},[o("input",{ref:_,type:"checkbox",checked:c.value,value:e.value,class:`${d}-target`,disabled:a.value,onClick:v,onChange:w,onFocus:K,onBlur:E},null),(y=(u=(r=s.checkbox)!=null?r:(l=t==null?void 0:t.slots)==null?void 0:l.checkbox)==null?void 0:u({checked:c.value,disabled:a.value}))!=null?y:o(M,{class:`${d}-icon-hover`,disabled:a.value||c.value},{default:()=>[o("div",{class:`${d}-icon`},[c.value&&o(R,{class:`${d}-icon-check`},null)])]}),s.default&&o("span",{class:`${d}-label`},[s.default()])])}}}),N=D({name:"CheckboxGroup",props:{modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:()=>[]},max:{type:Number},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,n)=>!0},setup(e,{emit:n,slots:s}){const{disabled:m}=U(e),f=z("checkbox-group"),{mergedDisabled:d,eventHandlers:_}=H({disabled:m}),t=L(e.defaultValue),h=g(()=>V(e.modelValue)?e.modelValue:t.value),x=g(()=>e.max===void 0?!1:h.value.length>=e.max),p=g(()=>{var a;return((a=e.options)!=null?a:[]).map(v=>Z(v)||ee(v)?{label:v,value:v}:v)});Q(T,O({name:"ArcoCheckboxGroup",computedValue:h,disabled:d,isMaxed:x,slots:s,handleChange:(a,v)=>{var w,$;t.value=a,n("update:modelValue",a),n("change",a,v),($=(w=_.value)==null?void 0:w.onChange)==null||$.call(w,v)}}));const b=g(()=>[f,`${f}-direction-${e.direction}`]);j(()=>e.modelValue,a=>{V(a)?t.value=[...a]:t.value=[]});const c=()=>p.value.map(a=>{const v=h.value.includes(a.value);return o(A,{key:a.value,value:a.value,disabled:a.disabled||!v&&x.value,indeterminate:a.indeterminate,modelValue:v},{default:()=>[s.label?s.label({data:a}):X(a.label)?a.label():a.label]})});return()=>{var a;return o("span",{class:b.value},[p.value.length>0?c():(a=s.default)==null?void 0:a.call(s)])}}});const ke=Object.assign(A,{Group:N,install:(e,n)=>{ae(e,n);const s=le(n);e.component(s+A.name,A),e.component(s+N.name,N)}});const ge={setup(){oe();const e=te();return{form:O({username:"",password:"",longtime:!1}),handleSubmit:m=>{ne.post("/api/auth/login",{username:m.values.username,password:I.sha3_256(m.values.password)}).then(f=>{console.log(f),f.data.status=="403"?G.warning({title:"提醒",content:"账号或密码错误",closable:!0}):f.data.status=="200"?(G.success({title:"提醒",content:"登录成功",closable:!0}),m.values.longtime==!0?($cookies.set("token",I.sha3_256(m.values.password),"14d"),$cookies.set("username",m.values.username,"14d")):($cookies.set("token",I.sha3_256(m.values.password)),$cookies.set("username",m.values.username)),e.push("/")):G.error({title:"错误",content:"未知错误",closable:!0})}).catch(f=>G.error({title:"错误",content:f.message,closable:!0}))}}}};function xe(e,n){const s=pe,m=he,f=ve,d=_e,_=be,t=ke,h=se,x=fe,p=ie,k=me,b=de;return ce(),re(b,{style:{padding:"0 24px",background:"rgb(var(--gray-2))"}},{default:i(()=>[o(m,{style:{margin:"16px 0"}},{default:i(()=>[o(s,null,{default:i(()=>[C("主页")]),_:1}),o(s,null,{default:i(()=>[C("验证")]),_:1}),o(s,null,{default:i(()=>[C("登录")]),_:1})]),_:1}),o(p,{style:{color:"var(--color-text-1)"}},{default:i(()=>[o(x,{model:e.form,onSubmit:e.handleSubmit},{default:i(()=>[o(d,{field:"name",tooltip:"请输入用户名",label:"用户名"},{default:i(()=>[o(f,{modelValue:e.form.username,"onUpdate:modelValue":n[0]||(n[0]=c=>e.form.username=c),placeholder:"请输入用户名..."},null,8,["modelValue"])]),_:1}),o(d,{field:"password",label:"密码"},{default:i(()=>[o(_,{modelValue:e.form.password,"onUpdate:modelValue":n[1]||(n[1]=c=>e.form.password=c),placeholder:"请输入密码..."},null,8,["modelValue"])]),_:1}),o(d,{field:"longTime"},{default:i(()=>[o(t,{modelValue:e.form.longtime,"onUpdate:modelValue":n[2]||(n[2]=c=>e.form.longtime=c)},{default:i(()=>[C(" 自动登录 ")]),_:1},8,["modelValue"])]),_:1}),o(d,null,{default:i(()=>[o(h,{"html-type":"submit"},{default:i(()=>[C("提交")]),_:1})]),_:1})]),_:1},8,["model","onSubmit"])]),_:1}),o(k,{style:{color:"var(--color-text-1)"}},{default:i(()=>[C("Footer")]),_:1})]),_:1})}const Be=ue(ge,[["render",xe]]);export{Be as default};
