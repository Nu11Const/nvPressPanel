import{d as k,a2 as U,a3 as A,a4 as F,I as R,a5 as L,a6 as M,g as P,U as V,a7 as z,a8 as D,_ as G,r as d,o as r,a as p,n as c,b,f as h,k as _,h as v,B as C,w as H,a9 as K,aa as y,ab as Y,ac as Z,ad as N,O as q,K as J,ae as Q,af as W,ag as g,ah as X,y as x}from"./index-68af38a3.js";const ee=e=>e.replace(/\B([A-Z])/g,"-$1").toLowerCase(),oe=k({name:"Notification",components:{AIconHover:U,IconInfoCircleFill:A,IconCheckCircleFill:F,IconExclamationCircleFill:R,IconCloseCircleFill:L,IconClose:M},props:{type:{type:String,default:"info"},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1}},emits:["close"],setup(e,o){const t=P("notification");let s=0;const l=()=>{o.emit("close")};return V(()=>{e.duration>0&&(s=window.setTimeout(l,e.duration))}),z(()=>{e.resetOnUpdate&&(s&&(window.clearTimeout(s),s=0),e.duration>0&&(s=window.setTimeout(l,e.duration)))}),D(()=>{s&&window.clearTimeout(s)}),{prefixCls:t,handleClose:l}}});function te(e,o,t,s,l,n){const a=d("icon-info-circle-fill"),i=d("icon-check-circle-fill"),f=d("icon-exclamation-circle-fill"),E=d("icon-close-circle-fill"),j=d("icon-close"),B=d("a-icon-hover");return r(),p("li",{role:"alert",class:c([e.prefixCls,`${e.prefixCls}-${e.type}`,{[`${e.prefixCls}-closable`]:e.closable}])},[e.showIcon?(r(),p("div",{key:0,class:c(`${e.prefixCls}-left`)},[b("div",{class:c(`${e.prefixCls}-icon`)},[h(e.$slots,"icon",{},()=>[e.type==="info"?(r(),_(a,{key:0})):e.type==="success"?(r(),_(i,{key:1})):e.type==="warning"?(r(),_(f,{key:2})):e.type==="error"?(r(),_(E,{key:3})):v("v-if",!0)])],2)],2)):v("v-if",!0),b("div",{class:c(`${e.prefixCls}-right`)},[e.$slots.default?(r(),p("div",{key:0,class:c(`${e.prefixCls}-title`)},[h(e.$slots,"default")],2)):v("v-if",!0),e.$slots.content?(r(),p("div",{key:1,class:c(`${e.prefixCls}-content`)},[h(e.$slots,"content")],2)):v("v-if",!0),e.$slots.footer?(r(),p("div",{key:2,class:c(`${e.prefixCls}-footer`)},[h(e.$slots,"footer")],2)):v("v-if",!0)],2),e.closable?(r(),p("div",{key:1,class:c(`${e.prefixCls}-close-btn`),onClick:o[0]||(o[0]=(...T)=>e.handleClose&&e.handleClose(...T))},[h(e.$slots,"closeIconElement",{},()=>[C(B,null,{default:H(()=>[h(e.$slots,"closeIcon",{},()=>[C(j)])]),_:3})])],2)):v("v-if",!0)],2)}var ie=G(oe,[["render",te]]);const ne=["topLeft","topRight","bottomLeft","bottomRight"];function se(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Z(e)}var ae=k({name:"NotificationList",props:{notifications:{type:Array,default:()=>[]},position:{type:String,default:"topRight",validator:e=>ne.includes(e)}},emits:["close","afterClose"],setup(e,o){const t=P("notification-list"),s=ee(e.position),{zIndex:l}=K("message",{runOnMounted:!0}),n=e.position.includes("Right");return()=>{let a;return C(Y,{class:[t,`${t}-${s}`],style:{zIndex:l.value},name:`slide-${n?"right":"left"}-notification`,onAfterLeave:()=>o.emit("afterClose"),tag:"ul"},se(a=e.notifications.map(i=>{const f={default:y(i.title),content:y(i.content),icon:y(i.icon),footer:y(i.footer),closeIcon:y(i.closeIcon),closeIconElement:y(i.closeIconElement)};return C(ie,{key:i.id,type:i.type,style:i.style,class:i.class,duration:i.duration,closable:i.closable,showIcon:i.showIcon,resetOnUpdate:i.resetOnUpdate,onClose:()=>o.emit("close",i.id)},f)}))?a:{default:()=>[a]})}}}),le=Object.defineProperty,re=Object.defineProperties,ce=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,O=(e,o,t)=>o in e?le(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,I=(e,o)=>{for(var t in o||(o={}))fe.call(o,t)&&O(e,t,o[t]);if($)for(var t of $(o))ue.call(o,t)&&O(e,t,o[t]);return e},S=(e,o)=>re(e,ce(o));class de{constructor(o,t){this.notificationCount=0,this.add=n=>{var a;this.notificationCount++;const i=(a=n.id)!=null?a:`__arco_notification_${this.notificationCount}`;if(this.notificationIds.has(i))return this.update(i,n);const f=J(I({id:i},n));return this.notifications.value.push(f),this.notificationIds.add(i),{close:()=>this.remove(i)}},this.update=(n,a)=>{for(let i=0;i<this.notifications.value.length;i++)if(this.notifications.value[i].id===n){const f=!Q(a.duration);Object.assign(this.notifications.value[i],S(I({},a),{id:n,resetOnUpdate:f}));break}return{close:()=>this.remove(n)}},this.remove=n=>{for(let a=0;a<this.notifications.value.length;a++){const i=this.notifications.value[a];if(i.id===n){W(i.onClose)&&i.onClose(n),this.notifications.value.splice(a,1),this.notificationIds.delete(n);break}}},this.clear=()=>{this.notifications.value.splice(0)},this.destroy=()=>{this.notifications.value.length===0&&this.container&&(g(null,this.container),document.body.removeChild(this.container),this.container=null,u[this.position]=void 0)};const{position:s="topRight"}=o;this.container=X("notification"),this.notificationIds=new Set,this.notifications=x([]),this.position=s;const l=C(ae,{notifications:this.notifications.value,position:s,onClose:this.remove,onAfterClose:this.destroy});(t??w._context)&&(l.appContext=t??w._context),g(l,this.container),document.body.appendChild(this.container)}}const u={},m=N.reduce((e,o)=>(e[o]=(t,s)=>{q(t)&&(t={content:t});const l=I({type:o},t),{position:n="topRight"}=l;return u[n]||(u[n]=new de(l,s)),u[n].add(l)},e),{});m.remove=e=>{e&&Object.values(u).forEach(o=>o==null?void 0:o.remove(e))};m.clear=e=>{var o;e?(o=u[e])==null||o.clear():Object.values(u).forEach(t=>t==null?void 0:t.clear())};const w=S(I({},m),{install:e=>{const o={clear:m.clear};for(const t of N)o[t]=(s,l=e._context)=>m[t](s,l);e.config.globalProperties.$notification=o},_context:null});export{w as N};
